# system integration
user www-data;
pid /run/nginx.pid;

# is expected even if empty
events {
}

http {
        # define content-type headers
        types {
            text/html                             html htm shtml;
            text/css                              css;
            text/xml                              xml;
            text/plain                            txt;
            text/plain                            sh;
            application/xhtml+xml                 xhtml;
        }
        default_type application/octet_stream;
        charset utf-8;

        # logging
	access_log /var/log/nginx/access.log;
	error_log /var/log/nginx/error.log;

        # IRC logs server
        server {
                listen 443 ssl;
                server_name dump.plomlompom.com;
                ssl_certificate /etc/letsencrypt/live/dump.plomlompom.com/fullchain.pem;
                ssl_certificate_key /etc/letsencrypt/live/dump.plomlompom.com/privkey.pem;
                root /var/www/html/;
                location /irclogs/zrolaps/ {
                        auth_basic "#zrolaps logs";
                        auth_basic_user_file /var/www/password_irclogs_zrolaps;
                        autoindex on;
                }
                location /irclogs/nodrama.de/ {
                        auth_basic "#nodrama.de logs";
                        auth_basic_user_file /var/www/password_irclogs_nodrama_de;
                        autoindex on;
                }
        }

        # htwtxt
        server {
                server_name htwtxt.plomlompom.com;
                location / {
                        proxy_pass http://127.0.0.1:8000;
                }
        }
}
